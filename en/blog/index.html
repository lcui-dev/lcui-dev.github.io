<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Blog | LCUI</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://lcui.org/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://lcui.org/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://lcui.org/en/blog"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | LCUI"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/en/img/favicon.png"><link data-rh="true" rel="canonical" href="https://lcui.org/en/blog"><link data-rh="true" rel="alternate" href="https://lcui.org/en/blog" hreflang="en"><link data-rh="true" rel="alternate" href="https://lcui.org/blog" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://lcui.org/blog" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/en/blog/rss.xml" title="LCUI RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/en/blog/atom.xml" title="LCUI Atom Feed"><link rel="stylesheet" href="/en/assets/css/styles.417f0b84.css">
<link rel="preload" href="/en/assets/js/runtime~main.8e5e9aff.js" as="script">
<link rel="preload" href="/en/assets/js/main.f7301482.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><div class="navbar__logo"><img src="/en/img/logo.png" alt="LCUI Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/en/img/logo.png" alt="LCUI Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">LCUI</b></a><a class="navbar__item navbar__link" href="/en/docs/introduction">Guides</a><a class="navbar__item navbar__link" href="/en/docs/tutorials/browser">Tutorials</a><a class="navbar__item navbar__link" href="/en/docs/rfcs/">RFCs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/en/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lcui-dev/website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/en/docs/introduction">2.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/en/docs/next/guides/base/installation">3.x ğŸš§</a></li><li><a class="dropdown__link" href="/en/docs/introduction">2.x</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/en/blog" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/blog" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">ç®€ä½“ä¸­æ–‡</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/en/blog/2023/02/01/decoding-libcss-source-code">LibCSS çš„æºç è§£æ</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/en/blog/2023/02/01/decoding-libcss-source-code">LibCSS çš„æºç è§£æ</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-02-01T00:00:00.000Z" itemprop="datePublished">February 1, 2023</time> Â· <!-- -->33 min read</div></header><div class="markdown" itemprop="articleBody"><p>LibCSS æ˜¯ä¸€ä¸ª CSS è§£æå™¨å’Œé€‰æ‹©å¼•æ“ï¼Œç”± C è¯­è¨€ç¼–å†™ï¼Œæ˜¯ <a href="http://www.netsurf-browser.org/" target="_blank" rel="noopener noreferrer">NetSurf</a> ç½‘é¡µæµè§ˆå™¨é¡¹ç›®çš„ä¸€éƒ¨åˆ†ä¸”å¯ä¾›å…¶å®ƒåŸºäº MIT è®¸å¯åè®®çš„è½¯ä»¶ä½¿ç”¨ã€‚å®ƒçš„ä¸»è¦ç‰¹æ€§å¦‚ä¸‹ï¼š</p><ul><li>è§£æ CSSï¼Œæ— è®ºå¥½çš„è¿˜æ˜¯åçš„</li><li>ç®€å•çš„ C API</li><li>ä½å†…å­˜å ç”¨</li><li>å¿«é€Ÿçš„é€‰æ‹©å¼•æ“</li><li>å¯ç§»æ¤</li><li>å…±äº«åº“</li></ul><p>ç¬”è€…ä¹‹æ‰€ä»¥é€‰æ‹©ç ”ç©¶ LibCSS æºç ï¼Œæ˜¯å› ä¸ºåœ¨æ”¹é€  CSS åº“ lcui/css æ—¶é‡åˆ°äº†ç“¶é¢ˆã€‚è™½ç„¶å‚è€ƒ MDN ä¸Šçš„ <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Value_definition_syntax" target="_blank" rel="noopener noreferrer">CSS å€¼å®šä¹‰è¯­æ³•æ–‡æ¡£</a>è®¾è®¡å¹¶å®ç°äº† CSS å€¼å®šä¹‰è¯­æ³•çš„è§£æå™¨å’ŒåŒ¹é…å™¨ï¼Œä½†åœ¨è§£å†³å–å€¼çš„é—®é¢˜æ—¶ä¸€ç›´æ‰¾ä¸åˆ°æœ€ä¼˜çš„æ–¹æ¡ˆï¼Œå…¶éš¾ç‚¹åœ¨äº CSS å±æ€§çš„å€¼çš„æ•°é‡å’Œç±»å‹ä¸æ˜¯å›ºå®šçš„ï¼Œä¸”ç”±äº <code>background</code> è¿™ç±»ç®€å†™å±æ€§çš„å­˜åœ¨ï¼Œè¿˜å¾—è€ƒè™‘å¦‚ä½•å¤ç”¨å–å€¼é€»è¾‘ã€‚å› æ­¤ LibCSS ä½œä¸ºä¸€ä¸ª C è¯­è¨€ç¼–å†™çš„ä¸”å·²ç»å†è¿‡æµè§ˆå™¨è€ƒéªŒçš„é¡¹ç›®ï¼Œå¾ˆé€‚åˆä½œä¸ºç¬”è€…çš„ç ”ç©¶å¯¹è±¡ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ç”¨æ³•ç¤ºä¾‹">ç”¨æ³•ç¤ºä¾‹<a href="#ç”¨æ³•ç¤ºä¾‹" class="hash-link" aria-label="Direct link to ç”¨æ³•ç¤ºä¾‹" title="Direct link to ç”¨æ³•ç¤ºä¾‹">â€‹</a></h2><p>LibCSS çš„ç¤ºä¾‹ç¨‹åºæºç åœ¨ <code>examples/exmaple1.c</code> ä¸­ï¼Œå®ƒå±•ç¤ºäº†å¦‚ä½•ç”¨ LibCSS å®ç° CSS æ ·å¼çš„åŠ è½½ã€é€‰æ‹©å’Œè¯»å–ï¼Œæˆ‘ä»¬å…ˆä»å®ƒå…¥æ‰‹ï¼Œäº†è§£ LibCSS å¤§è‡´çš„ç”¨æ³•å’Œæ¦‚å¿µï¼Œä»¥ä¾¿äºåç»­çš„æ·±å…¥ç ”ç©¶ã€‚</p><p>é¦–å…ˆä» <code>main()</code> å‡½æ•°å¼€å§‹ï¼Œå¼€å¤´éƒ¨åˆ†çš„ä»£ç åˆå§‹åŒ–äº† CSS å­—ç¬¦ä¸²ã€æ ·å¼è¡¨çš„åˆ›å»ºå‚æ•°ã€‚</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        css_error code</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_stylesheet </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">sheet</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">size_t</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;h1 { color: red } &quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;h4 { color: #321; } &quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">&quot;h4, h5 { color: #123456; }&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_select_ctx </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">select_ctx</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint32_t</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">unsigned</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> hh</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_stylesheet_params params</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_media media </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CSS_MEDIA_SCREEN</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">UNUSED</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">argc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">UNUSED</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">argv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">params_version </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CSS_STYLESHEET_PARAMS_VERSION_1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">level </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CSS_LEVEL_21</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">charset </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;UTF-8&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">title </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">allow_quirks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">inline_style </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resolve </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> resolve_url</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resolve_pw </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">import </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">import_pw </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">color_pw </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">font </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">font_pw </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶åï¼Œåˆ›å»ºæ ·å¼è¡¨ï¼Œè§£æ CSS å­—ç¬¦ä¸²å¹¶è¿½åŠ è¿›æ ·å¼è¡¨ä¸­ã€‚</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* create a stylesheet */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_stylesheet_create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">params</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">sheet</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">die</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;css_stylesheet_create&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_stylesheet_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sheet</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">die</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;css_stylesheet_size&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;created stylesheet, size %zu\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* parse some CSS source */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_stylesheet_append_data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sheet</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token class-name">uint8_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> code </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_NEEDDATA</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">die</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;css_stylesheet_append_data&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_stylesheet_data_done</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sheet</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">die</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;css_stylesheet_data_done&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_stylesheet_size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sheet</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">die</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;css_stylesheet_size&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;appended data, size now %zu\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä»ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºåœ¨ LibCSS çš„è®¾è®¡ä¸­æ ·å¼è§£æå’Œå­˜å‚¨æ˜¯å›´ç»•æ ·å¼è¡¨è¿›è¡Œçš„ï¼Œ<code>css_stylesheet_append_data()</code> å‡½æ•°èƒ½å¤Ÿè§£æ CSS ä»£ç å­—ç¬¦ä¸²å¹¶å°†ç»“æœå­˜å‚¨åˆ°æ ·å¼è¡¨ä¸­ã€‚</p><p>æ¥ç€æ˜¯åˆ›å»ºé€‰æ‹©ä¸Šä¸‹æ–‡ï¼Œå°†ä¸Šé¢æ–°å»ºçš„æ ·å¼è¡¨è¿½åŠ è¿›é€‰æ‹©ä¸Šä¸‹æ–‡ä¸­ã€‚</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* prepare a selection context containing the stylesheet */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_select_ctx_create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">select_ctx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">die</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;css_select_ctx_create&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_select_ctx_append_sheet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">select_ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sheet</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> CSS_ORIGIN_AUTHOR</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">die</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;css_select_ctx_append_sheet&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_select_ctx_count_sheets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">select_ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">count</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">die</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;css_select_ctx_count_sheets&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;created selection context with %i sheets\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æœ€åï¼Œé€‰æ‹©æ ·å¼ï¼Œè¾“å‡ºé€‰æ‹©ç»“æœï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* select style for each of h1 to h6 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">hh </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> hh </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">7</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> hh</span><span class="token operator" style="color:#393A34">++</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                css_select_results </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">char</span><span class="token plain"> element</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                lwc_string </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">element_name</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token class-name">uint8_t</span><span class="token plain"> color_type</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                css_color color_shade</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">/* in this very simple example our &quot;document tree&quot; is just one</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                 * node and is in fact a libwapcaplet string containing the</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                 * element name */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">snprintf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">element</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token plain"> element</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;h%i&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> hh</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">lwc_intern_string</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">element</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">strlen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">element</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">element_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_select_style</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">select_ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> element_name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">media</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">select_handler</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token function" style="color:#d73a49">die</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;css_select_style&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">lwc_string_unref</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">element_name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                color_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_computed_color</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                style</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">styles</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">CSS_PSEUDO_ELEMENT_NONE</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">color_shade</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">color_type </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> CSS_COLOR_INHERIT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;color of h%i is &#x27;inherit&#x27;\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> hh</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;color of h%i is %x\n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> hh</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> color_shade</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                code </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_select_results_destroy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">code </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token function" style="color:#d73a49">die</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;css_computed_style_destroy&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> code</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>css_select_style()</code> ç”¨äºæ ¹æ®ç»™å®šçš„é€‰æ‹©ä¸Šä¸‹æ–‡å’Œç»“ç‚¹æ¥é€‰æ‹©åŒ¹é…çš„æ ·å¼ã€‚å®ƒæ¥å— 7 ä¸ªå‚æ•°ï¼Œå…¶ä¸­çš„ node å‚æ•°æŒ‡å®šäº†ç”¨äºé€‰æ‹©æ ·å¼çš„ç»“ç‚¹ï¼Œhandler å‚æ•°æä¾› node çš„å„ç§å±æ€§çš„è·å–æ–¹æ³•ã€‚ç”±æ­¤å¯è§å…¶å®ƒ UI åº“è‹¥è¦ä½¿ç”¨ LibCSS å®ç°å¯¹ CSS çš„æ”¯æŒçš„è¯æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ï¼Œåªéœ€è¦å‡†å¤‡å¥½æ§ä»¶å¥æŸ„/æŒ‡é’ˆå’Œæ§ä»¶çš„å„ç§æ“ä½œå‡½æ•°åˆé›†å³å¯ã€‚</p><p><code>css_computed_color()</code> ç”¨äºä»å·²è®¡ç®—æ ·å¼ä¸­è·å– color å±æ€§çš„å€¼ï¼Œä¼ å…¥å·²è®¡ç®—æ ·å¼å’Œæ¥å—å€¼çš„æŒ‡é’ˆï¼Œè¿”å›å€¼æ˜¯é¢œè‰²ç±»å‹ã€‚ä»è¿™ä¸ªå‡½æ•°çš„è°ƒç”¨ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥æ¯”è¾ƒå®¹æ˜“åœ°æ¨æµ‹å‡ºå…¶å®ƒå±æ€§ä¹Ÿæœ‰å¯¹åº”çš„ä»¥ <code>css_computed_</code> å¼€å¤´å‘½åçš„å‡½æ•°æ¥è·å–å€¼ï¼Œä¸”ç”¨æ³•åŸºæœ¬ä¸€æ ·ã€‚å¦å¤–ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•° <code>style-&gt;styles</code> æ˜¯ä¸ªæ•°ç»„ä¸”æŒ‡å®šäº† <code>CSS_PSEUDO_ELEMENT_NONE</code> ä¸‹æ ‡ï¼Œè¿™è¡¨æ˜æ ·å¼é€‰æ‹©ç»“æœä¸­ä¸åªæœ‰å…ƒç´ æœ¬èº«çš„æ ·å¼ï¼Œè¿˜åŒ…æ‹¬å…¶å®ƒä¼ªå…ƒç´ çš„æ ·å¼ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è§£æ">è§£æ<a href="#è§£æ" class="hash-link" aria-label="Direct link to è§£æ" title="Direct link to è§£æ">â€‹</a></h2><p>é€šè¿‡ç ”ç©¶ä¸Šè¿°çš„ç¤ºä¾‹ä»£ç ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“ <code>css_stylesheet_append_data()</code> èƒ½è§£æ CSS å­—ç¬¦ä¸²ï¼Œä»¥å®ƒä¸ºèµ·ç‚¹è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¯ä»¥æ‰¾åˆ°åŒ…æ‹¬æ•°æ®ç»“æ„ã€å‡½æ•°ã€å˜é‡åœ¨å†…çš„ç›¸å…³ä¾èµ–é¡¹ï¼š</p><ul><li><code>css_parser</code></li><li><code>css_lexer</code></li><li><code>css_language</code></li><li><code>css_parser_event</code></li><li><code>css_parser_event_handler</code></li><li><code>css__parser_parse_chunk()</code></li><li><code>parser_state</code></li><li><code>parseFuncs</code></li><li><code>css__language_create()</code></li><li><code>language_handle_event()</code></li><li><code>parseProperty</code></li><li><code>property_handlers</code></li></ul><p>ä»¥è¿™äº›ä¾èµ–é¡¹ä¸ºçº¿ç´¢ç»§ç»­æ·±å…¥ç ”ç©¶ä»£ç ï¼Œæˆ‘ä»¬ä¼šå‘ç°æ•´ä¸ªè§£æåŠŸèƒ½æ¶‰åŠåˆ°è¯­è¨€è§£æå™¨ã€è§£æå™¨å‰ç«¯ã€è§£æå™¨ã€è§£æå™¨äº‹ä»¶ã€è¯æ³•åˆ†æå™¨è¿™äº›æ¦‚å¿µï¼Œæºç æ¶‰åŠ parse.cã€lex.cã€langguage.cã€properties.c ç­‰æ–‡ä»¶ï¼Œæ¥ä¸‹æ¥æœ¬æ–‡å°†é€ä¸ªè®²è§£å®ƒä»¬ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="è¯æ³•åˆ†æå™¨">è¯æ³•åˆ†æå™¨<a href="#è¯æ³•åˆ†æå™¨" class="hash-link" aria-label="Direct link to è¯æ³•åˆ†æå™¨" title="Direct link to è¯æ³•åˆ†æå™¨">â€‹</a></h3><p>è¯æ³•åˆ†æå™¨ï¼ˆLexerï¼‰çš„èŒè´£æ˜¯å°†å­—ç¬¦ä¸²è½¬æ¢æˆä¸€ä¸ªä¸ªè¯æ³•å•å…ƒï¼ˆTokenï¼‰ï¼Œå®ƒåŸºäºæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºè¿›è¡Œè§£æï¼Œå¤§è‡´çš„è§£æè¿‡ç¨‹æ˜¯æ ¹æ®å­—ç¬¦å†…å®¹æ›´æ–°çŠ¶æ€ï¼Œç„¶åè°ƒç”¨ä¸çŠ¶æ€å¯¹åº”çš„æ–¹æ³•å»è§£æåç»­å­—ç¬¦ã€‚</p><p>è¯æ³•å•å…ƒçš„æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">css_token</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_token_type type</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token class-name">uint8_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token class-name">size_t</span><span class="token plain"> len</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lwc_string </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">idata</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint32_t</span><span class="token plain"> col</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint32_t</span><span class="token plain"> line</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> css_token</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å®ƒåŒ…å«ç±»å‹ã€æ•°æ®ã€è¡Œåˆ—ï¼Œ<code>data.data</code> å’Œ <code>data.len</code> æˆå‘˜è®°å½•äº†å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®å’Œé•¿åº¦ï¼Œç”±æ­¤å¯è§è¯æ³•å•å…ƒæœ¬è´¨ä¸Šå°±æ˜¯å¯¹å­—ç¬¦ä¸²ä¸­çš„ä¸€æ®µå­—ç¬¦ä¸²çš„æ ‡è®°ã€‚</p><p>è‡³äºçŠ¶æ€è‡ªåŠ¨æœºï¼Œå®ƒçš„å®ç°ä»£ç å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">css_error è·å–è¯æ³•å•å…ƒ</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">css_lexer </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">è¯æ³•åˆ†æå™¨</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> css_token </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">è¯æ³•å•å…ƒ</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">è¯æ³•åˆ†æå™¨</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">çŠ¶æ€</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> åˆå§‹çŠ¶æ€ï¼š</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> åˆå§‹çŠ¶æ€çš„åŠ¨ä½œ</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">è¯æ³•åˆ†æå™¨</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> è¯æ³•å•å…ƒ</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> çŠ¶æ€</span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> çŠ¶æ€</span><span class="token number" style="color:#36acaa">1</span><span class="token plain">çš„åŠ¨ä½œ</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">è¯æ³•åˆ†æå™¨</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> è¯æ³•å•å…ƒ</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> çŠ¶æ€</span><span class="token number" style="color:#36acaa">2</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æ•´ä¸ªè§£æè¿‡ç¨‹åŸºäºçŠ¶æ€é©±åŠ¨ï¼Œæ¯ç§çŠ¶æ€éƒ½æœ‰å¯¹åº”çš„åŠ¨ä½œï¼ŒåŠ¨ä½œæ‰§è¡Œå®ŒåçŠ¶æ€ä¼šè¢«æ”¹ä¸ºå¦ä¸€ä¸ªçŠ¶æ€ï¼Œå¦‚æ­¤å¾€å¤ç›´åˆ°å­—ç¬¦ä¸²å…¨éƒ¨è§£æå®Œä¸ºæ­¢ã€‚è¿™ç§è¿è½¬æœºåˆ¶ï¼Œå°±æ˜¯æœ‰é™çŠ¶æ€è‡ªåŠ¨æœºã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="è§£æå™¨">è§£æå™¨<a href="#è§£æå™¨" class="hash-link" aria-label="Direct link to è§£æå™¨" title="Direct link to è§£æå™¨">â€‹</a></h3><p>è§£æå™¨ï¼ˆParserï¼‰çš„èŒè´£æ˜¯è§£æè¯æ³•å•å…ƒåºåˆ—è¡¨è¾¾çš„è¯­ä¹‰ã€‚ä¸è¯æ³•åˆ†æå™¨ç›¸åŒä¹‹å¤„æ˜¯å®ƒä¹ŸåŸºäºæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼Œå…¶å¤§è‡´çš„è§£æè¿‡ç¨‹æ˜¯è°ƒç”¨è¯æ³•åˆ†æå™¨è·å–ä¸‹ä¸ªè¯æ³•å•å…ƒï¼Œç„¶åæ ¹æ®è¯æ³•å•å…ƒå†…å®¹æ›´æ–°çŠ¶æ€ï¼Œä¹‹åè°ƒç”¨å¯¹åº”çš„å­è§£æå™¨ã€‚è€Œä¸åŒä¹‹å¤„æ˜¯å®ƒçš„è§£æç»“æœæ˜¯é€šè¿‡äº‹ä»¶å¤„ç†å‡½æ•°ä¼ é€’çš„ï¼Œäº‹ä»¶æšä¸¾åœ¨ src/parse/parse.h æ–‡ä»¶ä¸­æœ‰å®šä¹‰ï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">typedef</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">enum</span><span class="token plain"> </span><span class="token class-name">css_parser_event</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CSS_PARSER_START_STYLESHEET</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CSS_PARSER_END_STYLESHEET</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CSS_PARSER_START_RULESET</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CSS_PARSER_END_RULESET</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CSS_PARSER_START_ATRULE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CSS_PARSER_END_ATRULE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CSS_PARSER_START_BLOCK</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CSS_PARSER_END_BLOCK</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CSS_PARSER_BLOCK_CONTENT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CSS_PARSER_END_BLOCK_CONTENT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        CSS_PARSER_DECLARATION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> css_parser_event</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä»ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºäº‹ä»¶æ¶‰åŠæ ·å¼è¡¨ã€è§„åˆ™é›†ã€<code>@</code> è§„åˆ™ã€å—ã€å—å†…å®¹ã€å£°æ˜ï¼Œåœ¨å®ƒä»¬å¼€å§‹å’Œç»“æŸè§£æçš„æ—¶å€™ä¼šè§¦å‘äº‹ä»¶ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="è¯­è¨€è§£æå™¨">è¯­è¨€è§£æå™¨<a href="#è¯­è¨€è§£æå™¨" class="hash-link" aria-label="Direct link to è¯­è¨€è§£æå™¨" title="Direct link to è¯­è¨€è§£æå™¨">â€‹</a></h3><p>è¯­è¨€è§£æå™¨ä½œä¸ºè§£æå™¨çš„å‰ç«¯ï¼Œè´Ÿè´£å¯¹æ¥å±æ€§è§£æå™¨å’Œè§£æå™¨ï¼Œå°†è§£æç»“æœè¾“å‡ºåˆ°æ ·å¼è¡¨ã€‚</p><p>src/parse/language.c æ–‡ä»¶ä¸­ <code>css__language_create()</code> å‡½æ•°åŒ…å«äº†è¯­è¨€è§£æå™¨çš„åˆ›å»ºè¿‡ç¨‹ï¼Œå…¶ä¸­æœ‰ä¸€æ®µæ˜¯å°† <code>language_handle_event</code> å‡½æ•°è®¾ä¸ºè§£æå™¨çš„äº‹ä»¶å¤„ç†å™¨ï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">event_handler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">handler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> language_handle_event</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">event_handler</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pw </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> c</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css__parser_setopt</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">parser</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> CSS_PARSER_EVENT_HANDLER</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">params</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">parserutils_stack_destroy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">free</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>language_handle_event</code> å‡½æ•°çš„ä½œç”¨å°±æ˜¯æ ¹æ®è§£æå™¨çš„äº‹ä»¶æ¥å¯¹åç»­è¯æ³•å•å…ƒåšè¿›ä¸€æ­¥å¤„ç†ï¼Œå…¶ä¸­åŒ…æ‹¬è§£æé€‰æ‹©å™¨ã€è§£æ <code>@</code> è§„åˆ™ã€è°ƒç”¨å±æ€§è§£æå™¨ç­‰ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å±æ€§è§£æå™¨">å±æ€§è§£æå™¨<a href="#å±æ€§è§£æå™¨" class="hash-link" aria-label="Direct link to å±æ€§è§£æå™¨" title="Direct link to å±æ€§è§£æå™¨">â€‹</a></h3><p>å±æ€§è§£æå™¨çš„èŒè´£æ˜¯åœ¨è§£æå™¨è§£ææ ·å¼å£°æ˜æ—¶å°†æ¯æ¡å±æ€§è½¬æ¢æˆä¸€ä¸ªä¸ªè¿ç»­çš„å­—èŠ‚ç å­˜å…¥æ ·å¼è¡¨ä¸­ã€‚</p><p>LibCSS çš„å±æ€§è§£æå™¨æºç æ˜¯ç”±ç”Ÿæˆå™¨è‡ªåŠ¨ç”Ÿæˆçš„ï¼ŒMakefile ä¸­æœ‰å…·ä½“çš„ç”Ÿæˆæ–¹æ³•ï¼š</p><div class="language-makefile codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-makefile codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Sources</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AUTOGEN_PARSERS </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">shell</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PERL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> -pe</span><span class="token string" style="color:#e3116c">&#x27;$$_=&quot;&quot; unless /^([^\#][^:]+):/;$$_=$$1 . &quot; &quot;&#x27;</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DIR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">properties.gen</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Dodgy use of define/eval to bypass DIR changing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">define</span><span class="token plain"> build_gen_parser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token target symbol variable" style="color:#36acaa">$</span><span class="token target symbol" style="color:#36acaa">(BUILDDIR)/gen_parser</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DIR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">css_property_parser_gen.c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token variable" style="color:#36acaa">$$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VQ</span><span class="token punctuation" style="color:#393A34">)</span><span class="token variable" style="color:#36acaa">$$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ECHO</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ECHOFLAGS</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot; PREPARE: $$@&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token variable" style="color:#36acaa">$$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Q</span><span class="token punctuation" style="color:#393A34">)</span><span class="token variable" style="color:#36acaa">$$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BUILD_CC</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> -o </span><span class="token variable" style="color:#36acaa">$$@</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$$^</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">endef</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">eval</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">build_gen_parser</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">define</span><span class="token plain"> gen_prop_parser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token target symbol variable" style="color:#36acaa">$</span><span class="token target symbol" style="color:#36acaa">(DIR)autogenerated_</span><span class="token target symbol variable" style="color:#36acaa">$1.c</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DIR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">properties.gen </span><span class="token variable" style="color:#36acaa">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BUILDDIR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">/gen_parser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token variable" style="color:#36acaa">$$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">VQ</span><span class="token punctuation" style="color:#393A34">)</span><span class="token variable" style="color:#36acaa">$$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ECHO</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ECHOFLAGS</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;GENERATE: $$@&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token variable" style="color:#36acaa">$$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Q</span><span class="token punctuation" style="color:#393A34">)</span><span class="token variable" style="color:#36acaa">$$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BUILDDIR</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">/gen_parser -o </span><span class="token variable" style="color:#36acaa">$$@</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;$(shell $(GREP) &quot;^$1:&quot; $(DIR)properties.gen)&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AUTOGEN_SOURCES </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AUTOGEN_SOURCES</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> autogenerated_</span><span class="token variable" style="color:#36acaa">$1.c</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">endef</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AUTOGEN_SOURCES </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token variable" style="color:#36acaa">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">eval</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">foreach</span><span class="token plain"> PROP,</span><span class="token variable" style="color:#36acaa">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">AUTOGEN_PARSERS</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">,</span><span class="token variable" style="color:#36acaa">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">call</span><span class="token plain"> gen_prop_parser,</span><span class="token variable" style="color:#36acaa">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">PROP</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å±æ€§è§£æå™¨æºæ–‡ä»¶å‘½åæ ¼å¼ä¸º <code>autogenerated_${å±æ€§å}.c</code>ï¼Œ éƒ½ä¾èµ–ç”Ÿæˆå™¨ <code>gen_parser</code>ï¼Œmake æ—¶ä¼šè°ƒç”¨ç”Ÿæˆå™¨ä¸º <code>properties.gen</code> æ–‡ä»¶ä¸­å®šä¹‰çš„æ¯ä¸ªå±æ€§ç”Ÿæˆè§£æå™¨æºæ–‡ä»¶ã€‚</p><p><code>properties.gen</code> æ–‡ä»¶å¤´éƒ¨æœ‰ç»™å‡ºå±æ€§å®šä¹‰æ ¼å¼ç¤ºä¾‹ï¼š</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">##Common templates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#property:CSS_PROP_ENUM IDENT:( INHERIT: IDENT:)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#property:CSS_PROP_ENUM IDENT:INHERIT NUMBER:( false: RANGE: NUMBER:)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#property:CSS_PROP_ENUM IDENT:INHERIT LENGTH_UNIT:( UNIT_HZ:PITCH_FREQUENCY ALLOW: DISALLOW: RANGE:&lt;0 LENGTH_UNIT:)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#property:CSS_PROP_ENUM IDENT:( INHERIT: IDENT:) LENGTH_UNIT:( UNIT_HZ:PITCH_FREQUENCY ALLOW: DISALLOW: RANGE:&lt;0 LENGTH_UNIT:)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#property:CSS_PROP_ENUM WRAP:</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>åœ¨è¿™ç§è®¾è®¡ä¸­ï¼Œè‡ªå®šä¹‰å±æ€§çš„æ·»åŠ æ–¹å¼åº”è¯¥æ˜¯å…ˆåœ¨ <code>properties.gen</code> æ·»åŠ å±æ€§å®šä¹‰ï¼Œç„¶åè¿è¡Œ make å‘½ä»¤ç”Ÿæˆè§£æå™¨æºæ–‡ä»¶ï¼Œä¹‹åé‡æ–°ç¼–è¯‘ LibCSSã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç®€å†™å±æ€§è§£æå™¨">ç®€å†™å±æ€§è§£æå™¨<a href="#ç®€å†™å±æ€§è§£æå™¨" class="hash-link" aria-label="Direct link to ç®€å†™å±æ€§è§£æå™¨" title="Direct link to ç®€å†™å±æ€§è§£æå™¨">â€‹</a></h3><blockquote><p>ç®€å†™å±æ€§æ˜¯å¯ä»¥è®©ä½ åŒæ—¶è®¾ç½®å¥½å‡ ä¸ª CSS å±æ€§å€¼çš„ CSS å±æ€§ã€‚ä½¿ç”¨ç®€å†™å±æ€§ï¼ŒWeb å¼€å‘äººå‘˜å¯ä»¥ç¼–å†™æ›´ç®€æ´ã€æ›´å…·å¯è¯»æ€§çš„æ ·å¼è¡¨ï¼ŒèŠ‚çœæ—¶é—´å’Œç²¾åŠ›ã€‚</p><p><strong><em>æ‘˜è‡ª <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/Shorthand_properties" target="_blank" rel="noopener noreferrer">CSS çš„ç®€å†™å±æ€§ - CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰ | MDN</a></em></strong></p></blockquote><p>ä»¥ç®€å†™å±æ€§ background ä¸ºä¾‹ï¼Œå®ƒçš„è§£æå™¨æºæ–‡ä»¶æ˜¯ parse/properties/background.cï¼Œå…¶ä¸­çš„ <code>css__parse_background()</code> å‡½æ•°åŒ…å«äº†å±æ€§çš„è§£æè¿‡ç¨‹ã€‚</p><p>å‡½æ•°å¼€å¤´å¤„å®šä¹‰äº†å‡ ä¸ªå˜é‡ï¼Œç”¨äºå­˜å‚¨éç®€å†™å±æ€§çš„å€¼å’Œè§£æçŠ¶æ€ï¼ˆæ˜¯å¦éœ€è§£æï¼‰ã€‚</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        bool attachment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bool color </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bool image </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bool position </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bool repeat </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_style </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> attachment_style</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_style </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> color_style</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_style </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> image_style</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_style </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> position_style</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_style </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> repeat_style</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é¦–å…ˆæ˜¯å¤„ç†ç»§æ‰¿ï¼Œå¦‚æœå±æ€§å€¼æ˜¯ <code>inherit</code> åˆ™ä¸ºæ¯ä¸ªå±æ€§è¿½åŠ å¸¦ <code>inherit</code> æ ‡è®°çš„å­—èŠ‚ç ã€‚</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* Firstly, handle inherit */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        token </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">parserutils_vector_peek</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">vector</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">token </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> CSS_INVALID</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">is_css_inherit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> token</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_stylesheet_style_inherit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> CSS_PROP_BACKGROUND_ATTACHMENT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç»™æ¯ä¸ªå±æ€§åˆ†é…å†…å­˜èµ„æºã€‚</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* allocate styles */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css__stylesheet_style_create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">sheet</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">attachment_style</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>éå†æ¯ä¸ªè¯æ³•å•å…ƒï¼Œå°è¯•ç”¨æ¯ä¸ªéç®€å†™å±æ€§çš„è§£æå‡½æ•°è§£æå®ƒï¼Œè‹¥è§£ææˆåŠŸåˆ™æ ‡è®°è¯¥å±æ€§ä¸ºä¸éœ€è¦å†è§£æã€‚</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* Attempt to parse the various longhand properties */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                prev_ctx </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">is_css_inherit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> token</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CSS_INVALID</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">goto</span><span class="token plain"> css__parse_background_cleanup</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">/* Try each property parser in turn, but only if we</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                 * haven&#x27;t already got a value for this property.</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attachment</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css__parse_background_attachment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> vector</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                attachment_style</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        attachment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">color</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">ctx </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> prev_ctx </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> token </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">NULL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attachment</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css__stylesheet_style_appendOPV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attachment_style</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                CSS_PROP_BACKGROUND_ATTACHMENT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                BACKGROUND_ATTACHMENT_SCROLL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">goto</span><span class="token plain"> css__parse_background_cleanup</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è§£æå®Œåï¼Œç»™æœªè·å¾—å€¼çš„å±æ€§è¿½åŠ åˆå§‹å€¼ï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attachment</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css__stylesheet_style_appendOPV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attachment_style</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                CSS_PROP_BACKGROUND_ATTACHMENT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                BACKGROUND_ATTACHMENT_SCROLL</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">goto</span><span class="token plain"> css__parse_background_cleanup</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">color</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä¹‹åï¼Œå°†æ¯ä¸ªéç®€å†™å±æ€§å€¼åˆå¹¶è¿›ç»“æœä¸­ã€‚</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css__stylesheet_merge_style</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> attachment_style</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">goto</span><span class="token plain"> css__parse_background_cleanup</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>æœ€åï¼Œé”€æ¯ç›¸å…³æ•°æ®ã€‚</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">css__stylesheet_style_destroy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">attachment_style</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä»¥ä¸Šå°±æ˜¯ background å±æ€§çš„è§£æè¿‡ç¨‹ï¼Œä»ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºç®€å†™å±æ€§è‡ªèº«å¹¶ä¸å ç”¨æ ·å¼å­˜å‚¨ç©ºé—´ï¼Œå®ƒä¼šåœ¨è§£æé˜¶æ®µè¢«åˆ†è§£æˆè‹¥å¹²ä¸ªéç®€å†™å±æ€§è¿›è¡Œè§£æå’Œå­˜å‚¨ï¼Œåˆ†è§£çš„è¿‡ç¨‹å°±æ˜¯éå†æ¯ä¸ªå€¼ç„¶åé€ä¸ªæ£€æµ‹æ˜¯å¦ä¸å“ªä¸ªéç®€å†™å±æ€§åŒ¹é…ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="è®¡ç®—">è®¡ç®—<a href="#è®¡ç®—" class="hash-link" aria-label="Direct link to è®¡ç®—" title="Direct link to è®¡ç®—">â€‹</a></h2><p><code>css_select_style()</code> å‡½æ•°å®ç°äº†æ ·å¼é€‰æ‹©å’Œè®¡ç®—åŠŸèƒ½ï¼Œå®ƒæ‰€è§£å†³çš„é—®é¢˜å¯åˆ†ä¸ºå…­ç±»ï¼šæŒ‡ç¤ºã€é€‰æ‹©ã€å±‚å ã€å†…è”ã€åˆå§‹å€¼ã€ç»å¯¹å€¼ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯¥å‡½æ•°çš„æ³¨é‡Šä¸­æœ‰æåˆ°å®ƒç”Ÿæˆçš„å·²è®¡ç®—æ ·å¼è¿˜ä¸èƒ½ç«‹å³ä½¿ç”¨ï¼Œéœ€è¦è°ƒç”¨ <code>css_computed_style_compose()</code> è·å–å®Œæ•´çš„å·²è®¡ç®—æ ·å¼ï¼Œè¿™ç§ä¸¤æ­¥å¼æ ·å¼è®¡ç®—æ–¹æ³•æ—¨åœ¨å…è®¸å®¢æˆ·ç«¯å­˜å‚¨éƒ¨åˆ†å·²è®¡ç®—æ ·å¼ï¼Œå¹¶åœ¨å¸ƒå±€å˜åŠ¨æ—¶é«˜æ•ˆåœ°æ›´æ–°èŠ‚ç‚¹çš„å®Œæ•´å·²è®¡ç®—æ ·å¼ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="æŒ‡ç¤º">æŒ‡ç¤º<a href="#æŒ‡ç¤º" class="hash-link" aria-label="Direct link to æŒ‡ç¤º" title="Direct link to æŒ‡ç¤º">â€‹</a></h3><p>æŒ‡ç¤ºï¼ˆHintingï¼‰ç”¨äºè®©å…ƒç´ å¯¹æ ·å¼åšè‡ªå®šä¹‰çš„æ§åˆ¶ã€‚<code>css_select_style()</code> å‡½æ•°åœ¨åˆå§‹åŒ–é€‰æ‹©çŠ¶æ€åä¼šè°ƒç”¨ <code>node_presentational_hint</code> å›è°ƒå‡½æ•°è·å–å…ƒç´ çš„å±•ç°æŒ‡ç¤ºï¼Œè¿™äº›æŒ‡ç¤ºçš„ä½œç”¨ç›¸å½“äºå…ƒç´ å†…éƒ¨è‡ªå®šä¹‰äº†éƒ¨åˆ†å±æ€§çš„åˆå§‹å€¼ï¼Œå…¸å‹çš„ä¾‹å­å°±æ˜¯ canvas å…ƒç´ ï¼Œå®ƒç»™ width å’Œ height å±æ€§æŒ‡ç¤ºçš„å€¼åˆ†åˆ«æ˜¯ 300 å’Œ 150ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="é€‰æ‹©">é€‰æ‹©<a href="#é€‰æ‹©" class="hash-link" aria-label="Direct link to é€‰æ‹©" title="Direct link to é€‰æ‹©">â€‹</a></h3><p>é€‰æ‹©ï¼ˆSelectionï¼‰æ˜¯ CSS å¼•æ“çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå…¶ä½œç”¨æ˜¯ä»æ ·å¼è¡¨ä¸­æŸ¥æ‰¾ä¸å…ƒç´ åŒ¹é…çš„è§„åˆ™é›†ã€‚ç”±äºé€‰æ‹©å¼•æ“å¹¶ä¸åœ¨æœ¬æ–‡çš„ç ”ç©¶èŒƒå›´å†…ï¼Œæœ¬æ–‡ä¸ä¼šç»§ç»­å¯¹å®ƒåšè¿›ä¸€æ­¥çš„è®²è§£ï¼Œå¦‚éœ€äº†è§£æ›´å¤šï¼Œè¯·è‡ªè¡ŒæŸ¥é˜… LibCSS ä»£ç åº“ä¸­çš„ src/select/select.c æ–‡ä»¶ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å±‚å ">å±‚å <a href="#å±‚å " class="hash-link" aria-label="Direct link to å±‚å " title="Direct link to å±‚å ">â€‹</a></h3><p>å±‚å ï¼ˆCascadeï¼‰çš„ä½œç”¨æ˜¯ä¸ºäº†ä»åŒ¹é…åˆ°çš„è§„åˆ™é›†ä¸­é€‰å–æƒé‡æœ€é«˜çš„è§„åˆ™ã€‚<code>css_select_style()</code> åœ¨æŸ¥æ‰¾åˆ°åŒ¹é…çš„è§„åˆ™åä¼šè°ƒç”¨ <code>cascade_style()</code> å‡½æ•°å±‚å æ ·å¼ï¼Œå…¶å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">css_error </span><span class="token function" style="color:#d73a49">cascade_style</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> css_style </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> css_select_state </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_style s </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">used </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token class-name">opcode_t</span><span class="token plain"> op</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                css_error error</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token class-name">css_code_t</span><span class="token plain"> opv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bytecode</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">advance_bytecode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                op </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getOpcode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                error </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> prop_dispatch</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">op</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">cascade</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opv</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">s</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">error </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> error</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä»è¿™æ®µç®€çŸ­çš„ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå±‚å çš„è¿‡ç¨‹å°±æ˜¯éå†å­—èŠ‚ç ç„¶åè°ƒç”¨å±æ€§è°ƒåº¦è¡¨ä¸­æ³¨å†Œçš„ cascade å‡½æ•°ã€‚ä»¥ width å±æ€§ä¸ºä¾‹ï¼Œå®ƒçš„å±‚å æ“ä½œç”± select/properties/width.c ä¸­çš„ <code>css__cascade_width()</code> å‡½æ•°å®ç°ï¼Œè¯¥å‡½æ•°å†…éƒ¨è°ƒç”¨äº† <code>css__cascade_length_auto()</code> å‡½æ•°ï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">css_error </span><span class="token function" style="color:#d73a49">css__cascade_length_auto</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> opv</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> css_style </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                css_select_state </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">css_error</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">fun</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">css_computed_style </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint8_t</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> css_fixed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                css_unit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint16_t</span><span class="token plain"> value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CSS_BOTTOM_INHERIT</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_fixed length </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint32_t</span><span class="token plain"> unit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> UNIT_PX</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">isInherit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">getValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> BOTTOM_SET</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CSS_BOTTOM_SET</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        length </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">css_fixed </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> style</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">bytecode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token function" style="color:#d73a49">advance_bytecode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        unit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> style</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">bytecode</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token function" style="color:#d73a49">advance_bytecode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> BOTTOM_AUTO</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        value </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CSS_BOTTOM_AUTO</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        unit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css__to_css_unit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">css__outranks_existing</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">getOpcode</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">isImportant</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token function" style="color:#d73a49">isInherit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opv</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fun</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">state</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">computed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> length</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> unit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å½“å±æ€§å€¼æœªæŒ‡å®šä¸ºç»§æ‰¿æ—¶ï¼Œå¯¹å­—èŠ‚ç ä¸­è¡¨è¾¾çš„å€¼è¿›è¡Œè½¬æ¢ï¼Œè‹¥å½“å‰å±æ€§å€¼çš„æƒé‡åœ¨å·²æœ‰å±æ€§å€¼ä¹‹ä¸Šåˆ™è°ƒç”¨ <code>fun</code> æŒ‡å‘çš„å›è°ƒå‡½æ•°æ¥è®¾ç½®å€¼ï¼Œè¿™ä¸ª <code>fun</code> æŒ‡é’ˆåœ¨ <code>css__cascade_width()</code> ä¸­è¢«èµ‹å€¼ä¸º <code>set_width</code>ï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">inline</span><span class="token plain"> css_error </span><span class="token function" style="color:#d73a49">set_width</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">css_computed_style </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint8_t</span><span class="token plain"> type</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                css_fixed length</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> css_unit unit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint32_t</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">bits</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        bits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">style</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bits</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">WIDTH_INDEX</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* 7bits: uuuuutt : unit | type */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">bits </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">bits </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">~</span><span class="token plain">WIDTH_MASK</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">uint32_t</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">type </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">unit </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> WIDTH_SHIFT</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        style</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">width </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> length</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> CSS_OK</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å†…è”">å†…è”<a href="#å†…è”" class="hash-link" aria-label="Direct link to å†…è”" title="Direct link to å†…è”">â€‹</a></h3><p>å†…è”æ ·å¼ï¼ˆInline styleï¼‰çš„ä¼˜å…ˆçº§é«˜äºé€‰æ‹©çš„æ ·å¼ï¼Œå®ƒå±‚å åœ¨é€‰æ‹©çš„æ ·å¼ä¹‹ä¸Šï¼Œ<code>css_select_style()</code> å¯¹å®ƒçš„å¤„ç†åŒæ ·æ˜¯è°ƒç”¨ <code>cascade_style()</code> å‡½æ•°ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="åˆå§‹å€¼">åˆå§‹å€¼<a href="#åˆå§‹å€¼" class="hash-link" aria-label="Direct link to åˆå§‹å€¼" title="Direct link to åˆå§‹å€¼">â€‹</a></h3><p>å½“æ ·å¼å±‚å å®Œåï¼Œæœªè®¾ç½®å€¼çš„å±æ€§ä¼šè¢«è®¾ç½®åˆå§‹å€¼ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç»å¯¹å€¼">ç»å¯¹å€¼<a href="#ç»å¯¹å€¼" class="hash-link" aria-label="Direct link to ç»å¯¹å€¼" title="Direct link to ç»å¯¹å€¼">â€‹</a></h3><p>ç»å¯¹å€¼æ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨çš„å€¼ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰ç›¸å¯¹å€¼ã€‚CSS çš„éƒ¨åˆ†å±æ€§æ”¯æŒä½¿ç”¨ç›¸å¯¹å•ä½çš„å€¼ï¼Œä¾‹å¦‚ï¼š<code>font-size: smaller</code>ã€<code>color: currentColor</code>ã€<code>line-height: 1.6</code>ã€<code>padding-left: 1em</code>ï¼Œè¿™äº›å€¼å¹¶ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦åœ¨å®ƒä»¬ä¾èµ–çš„å€¼éƒ½æ˜¯ç»å¯¹å€¼æ—¶æ‰èƒ½ç¡®å®šï¼Œå› æ­¤æ ·å¼è®¡ç®—è¿‡ç¨‹ä¸­ä¼šæœ‰ä¸€ä¸ªå°†ç›¸å¯¹å€¼è½¬æ¢ä¸ºç»å¯¹å€¼çš„è®¡ç®—è¿‡ç¨‹ã€‚</p><p>é™¤äº† <code>css_select_style()</code> ä¼šåœ¨å…ƒç´ ä¸ºæ ¹å…ƒç´ æ—¶ä¸ºå…¶è®¡ç®—ç»å¯¹å€¼å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ‰‹åŠ¨è°ƒç”¨ <code>css_computed_style_compose()</code> å‡½æ•°æ¥å®Œæˆè¿™ä¸€è®¡ç®—ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å·²è®¡ç®—æ ·å¼">å·²è®¡ç®—æ ·å¼<a href="#å·²è®¡ç®—æ ·å¼" class="hash-link" aria-label="Direct link to å·²è®¡ç®—æ ·å¼" title="Direct link to å·²è®¡ç®—æ ·å¼">â€‹</a></h2><p>src/select/computed.c æ–‡ä»¶çš„å†…å®¹å¯åˆ’åˆ†ä¸ºå±æ€§è®¿é—®å™¨ã€è®¡ç®—å‡½æ•°ã€å†…éƒ¨å‡½æ•°è¿™ä¸‰ä¸ªéƒ¨åˆ†ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å±æ€§è®¿é—®å™¨">å±æ€§è®¿é—®å™¨<a href="#å±æ€§è®¿é—®å™¨" class="hash-link" aria-label="Direct link to å±æ€§è®¿é—®å™¨" title="Direct link to å±æ€§è®¿é—®å™¨">â€‹</a></h3><p>å±æ€§è®¿é—®å™¨æ˜¯ä¸€ç³»åˆ—åç§°ä»¥ <code>css_computed_</code> å¼€å¤´çš„å‡½æ•°ï¼Œç”¨äºä»å·²è®¡ç®—æ ·å¼ç»“æ„ä½“ä¸­è·å–ç‰¹å®šå±æ€§çš„å€¼ã€‚å®ƒä»¬çš„è¿”å›å€¼ç±»å‹éƒ½ä¸º <code>uint8_t</code>ï¼Œè¡¨ç¤ºå±æ€§å€¼çš„ç±»å‹ï¼Œä¼ å…¥çš„å‚æ•°ç”¨äºæ¥æ”¶å€¼ï¼Œä¾‹å¦‚ï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">uint8_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_computed_width</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> css_computed_style </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                css_fixed </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">length</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> css_unit </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">unit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_width</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> length</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> unit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯¹äº left è¿™ç§åœ¨ç‰¹å®šæƒ…å†µä¸‹ä¾èµ– position å’Œ right å±æ€§æ‰èƒ½è®¡ç®—çš„å±æ€§ï¼Œå®ƒçš„è®¿é—®å™¨ä»£ç æ˜¯è¿™æ ·çš„ï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">uint8_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_computed_left</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> css_computed_style </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                css_fixed </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">length</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> css_unit </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">unit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint8_t</span><span class="token plain"> position </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">css_computed_position</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint8_t</span><span class="token plain"> left </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_left</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> length</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> unit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">/* Fix up, based on computed position */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">position </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> CSS_POSITION_STATIC</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">/* Static -&gt; auto */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                left </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CSS_LEFT_AUTO</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">position </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> CSS_POSITION_RELATIVE</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">/* Relative -&gt; follow $9.4.3 */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token class-name">uint8_t</span><span class="token plain"> right </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_right_bits</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">style</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">left </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> CSS_LEFT_AUTO </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">right </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> CSS_RIGHT_AUTO</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token comment" style="color:#999988;font-style:italic">/* Both auto =&gt; 0px */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">length </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">unit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CSS_UNIT_PX</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">left </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> CSS_LEFT_AUTO</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token comment" style="color:#999988;font-style:italic">/* Left is auto =&gt; -right */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">length </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain">style</span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">right</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">unit </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">css_unit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">right </span><span class="token operator" style="color:#393A34">&gt;&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token comment" style="color:#999988;font-style:italic">/** \todo Consider containing block&#x27;s direction</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">                         * if overconstrained */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                left </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> CSS_LEFT_SET</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> left</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="è®¡ç®—å‡½æ•°">è®¡ç®—å‡½æ•°<a href="#è®¡ç®—å‡½æ•°" class="hash-link" aria-label="Direct link to è®¡ç®—å‡½æ•°" title="Direct link to è®¡ç®—å‡½æ•°">â€‹</a></h3><p>è®¡ç®—å‡½æ•°æ˜¯ä¸€ç³»åç§°ä»¥ <code>compute_</code> å¼€å¤´çš„å‡½æ•°ï¼Œå®ƒä»¬ä¸»è¦è¢«<code>css__compute_absolute_values()</code> å‡½æ•°è°ƒç”¨ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†ç”¨äºè®¡ç®—æŸç±»å±æ€§çš„ç»å¯¹å€¼ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="å­˜å‚¨">å­˜å‚¨<a href="#å­˜å‚¨" class="hash-link" aria-label="Direct link to å­˜å‚¨" title="Direct link to å­˜å‚¨">â€‹</a></h2><p>LibCSS çš„ä½å†…å­˜å ç”¨ä¸»è¦ä½“ç°åœ¨æ ·å¼å­˜å‚¨ä¸Šï¼ŒCSS å­—ç¬¦ä¸²ä¸­çš„æ ·å¼å±æ€§å£°æ˜ç»è¿‡è§£æåä¼šè½¬æ¢æˆå†…å­˜ç©ºé—´åˆ©ç”¨ç‡é«˜çš„å­—èŠ‚ç ï¼Œè€Œå·²è®¡ç®—æ ·å¼è™½ç„¶å› åŒ…å«æ‰€æœ‰å±æ€§è€Œå ç”¨è¾ƒå¤§å†…å­˜ï¼Œä½†ä¹Ÿåšäº†ä¸€äº›ä¼˜åŒ–ï¼Œå®ƒçš„å¤´éƒ¨é›†ä¸­å­˜å‚¨äº†æ‰€æœ‰å±æ€§å€¼çš„ç±»å‹æ•°æ®ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å­—èŠ‚ç çš„å­˜å‚¨æ ¼å¼">å­—èŠ‚ç çš„å­˜å‚¨æ ¼å¼<a href="#å­—èŠ‚ç çš„å­˜å‚¨æ ¼å¼" class="hash-link" aria-label="Direct link to å­—èŠ‚ç çš„å­˜å‚¨æ ¼å¼" title="Direct link to å­—èŠ‚ç çš„å­˜å‚¨æ ¼å¼">â€‹</a></h3><p>å­—èŠ‚ç æ˜¯ <code>unit32_t</code> ç±»å‹ï¼Œè¡¨è¾¾äº† CSS å±æ€§çš„ä»£ç ã€å€¼ã€æ˜¯å¦é‡è¦ã€æ˜¯å¦ç»§æ‰¿ï¼Œbytecode.h ä¸­çš„ <code>buildOPV()</code> å‡½æ•°å®šä¹‰ä»£ç å±•ç¤ºäº†å®ƒä»¬æ˜¯å¦‚ä½•ç»„æˆå­—èŠ‚ç çš„ï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">inline</span><span class="token plain"> </span><span class="token class-name">css_code_t</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">buildOPV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token class-name">opcode_t</span><span class="token plain"> opcode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint8_t</span><span class="token plain"> flags</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token class-name">uint16_t</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">opcode </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x3ff</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">flags </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x3fff</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;&lt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">18</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä»ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºå­—èŠ‚ç åœ¨å†…å­˜ä¸­çš„å¸ƒå±€ï¼š</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">| opcode    | flags      | value      |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 1 ~ 11bit | 12 ~ 13bit | 14 ~ 32bit |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>å¯¹äºæœ‰å¤šç§ç±»å‹å€¼çš„å±æ€§ï¼Œå®ƒä»¬çš„ value å­—æ®µä¼šè¢«ç”¨æ¥è¡¨è¾¾æ•°æ®ç±»å‹ï¼Œè€Œå®é™…å€¼åˆ™å­˜å‚¨åœ¨è¿½åŠ çš„æ•°æ®æ®µä¸­ï¼Œæ¯ä¸ªå€¼å ç”¨ä¸€ä¸ªå­—èŠ‚ç çš„ç©ºé—´ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">| CSS_PROP_XXXX | flags | XXXXX_SET | å®é™…å€¼1 | å®é™…å€¼2 | ... |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 32bits                            | 32bits | 32bits  |     |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ä»¥ width å±æ€§ä¸ºä¾‹ï¼Œ<code>width: 10px</code> çš„å­—èŠ‚ç æ ¼å¼æ˜¯ï¼š</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">| CSS_PROP_WIDTH | flags | BOTTOM_SET | FIXED (10) | UNIT (px) |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 32bits                              | 32bits     | 32bits    |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>è€Œ <code>width: auto</code> çš„å­—èŠ‚ç æ ¼å¼æ˜¯ï¼š</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">| CSS_PROP_WIDTH | flags | BOTTOM_AUTO |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">| 32bits                               |</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>test/dump.h æ–‡ä»¶å±•ç¤ºäº†å¦‚ä½•ç†è§£å­—èŠ‚ç å¹¶å°†å…¶è¾“å‡ºä¸º CSS ä»£ç å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥é˜…å®ƒæ¥äº†è§£æ›´å¤šçš„å­—èŠ‚ç æ“ä½œæ–¹æ³•ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="å·²è®¡ç®—æ ·å¼çš„å­˜å‚¨æ ¼å¼">å·²è®¡ç®—æ ·å¼çš„å­˜å‚¨æ ¼å¼<a href="#å·²è®¡ç®—æ ·å¼çš„å­˜å‚¨æ ¼å¼" class="hash-link" aria-label="Direct link to å·²è®¡ç®—æ ·å¼çš„å­˜å‚¨æ ¼å¼" title="Direct link to å·²è®¡ç®—æ ·å¼çš„å­˜å‚¨æ ¼å¼">â€‹</a></h3><p>å·²è®¡ç®—æ ·å¼çš„æ•°æ®ç»“æ„å®šä¹‰å¦‚ä¸‹ï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">css_computed_style</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">css_computed_style_i</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_computed_content_item </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_computed_counter </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">counter_increment</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        css_computed_counter </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">counter_reset</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lwc_string </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">cursor</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lwc_string </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">font_family</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        lwc_string </span><span class="token operator" style="color:#393A34">*</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">quotes</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">struct</span><span class="token plain"> </span><span class="token class-name">css_computed_style</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">next</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint32_t</span><span class="token plain"> count</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">uint32_t</span><span class="token plain"> bin</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>é™¤å»å¤–é¢çš„ <code>cursor</code> å’Œ <code>font_family</code> ç­‰å±æ€§å¤–ï¼Œå…¶å®ƒå±æ€§å€¼éƒ½å­˜å‚¨åœ¨ <code>css_computed_style_i</code> ç»“æ„ä½“ä¸­ï¼Œè€Œå…¶ä¸­çš„ <code>uint32_t bits[15]</code> æˆå‘˜ç”¨äºå­˜å‚¨è¿™äº›å€¼çš„ç±»å‹ä¿¡æ¯ï¼Œä»¥æ¯”ç‰¹ä½ä¸ºæœ€å°ç²’åº¦æ¥ä¸ºå€¼ç±»å‹åˆ†é…å­˜å‚¨ç©ºé—´ï¼Œå…·ä½“åˆ†é…ç»†èŠ‚åœ¨å®ƒçš„æ³¨é‡Šä¸­æœ‰è¯´æ˜ï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * Bit allocations:</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * </span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 0  ccccccccoooooooobbbbbbbbrrrrrrrr</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * column_rule_width; outline_width; border_left_width; border_bottom_width</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * </span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 1  vvvvvvvvvbbbbbbbboooooooolllllll</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * vertical_align; border_top_width; border_right_width; letter_spacing</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * </span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 2  ccccccccccccccccccccccccccpppppp</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * clip; padding_top</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * </span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 3  mmmmmmmaaaaaaarrrrrrrttttttddddd</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * max_width; margin_bottom; margin_left; text_indent; display</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>éƒ¨åˆ†å±æ€§çš„å€¼ç±»å‹åªå ä¸€ä¸ªæ¯”ç‰¹ä½ï¼Œä¾‹å¦‚ opacity å’Œ windows å±æ€§ï¼š</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * 14 llcbqopwfrue....................</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * list_style_position; counter_increment; background_image; quotes; order;</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> * opacity; widows; flex_grow; orphans; counter_reset; flex_shrink</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>properties.h æ–‡ä»¶ä¸­å®šä¹‰äº†æ¯ä¸ªå±æ€§çš„å€¼ç±»å‹æšä¸¾ï¼Œå®ƒä»¬çš„å–å€¼èŒƒå›´éƒ½å¾ˆå°ï¼Œå› æ­¤å¾ˆå®¹æ˜“åšåˆ°ä»…å ç”¨å‡ ä¸ªæ¯”ç‰¹ä½ç©ºé—´ã€‚</p><p>ç”±äºè¿™ç§å ç”¨è‹¥å¹²ä¸ªæ¯”ç‰¹ä½çš„æ•°æ®ä¸ä¾¿äºç›´æ¥è¯»å†™ï¼ŒLibCSS åˆ†åˆ«åœ¨ src/select/autogenerated_propget.h å’Œ src/select/autogenerated_propset.h ä¸­ä¸ºæ¯ä¸ªå±æ€§å®šä¹‰äº†è¯»å†™è¾…åŠ©å‡½æ•°ï¼Œå®ƒä»¬çš„å®ç°ä»£ç å¤§åŒå°å¼‚ï¼Œéƒ½æ˜¯å…ˆç¡®å®šå±æ€§åœ¨ bits ä¸­çš„ä½ç½®ç„¶åé€šè¿‡ä½è¿ç®—æ¥è¯»å–å’Œå†™å…¥æ•°æ®ã€‚</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="æ€»ç»“">æ€»ç»“<a href="#æ€»ç»“" class="hash-link" aria-label="Direct link to æ€»ç»“" title="Direct link to æ€»ç»“">â€‹</a></h2><p>é€šè¿‡ä¸Šè¿°çš„åˆ†æï¼Œç¬”è€…å¾—åˆ°çš„ lcui/css ä¸ LibCSS çš„å·®å¼‚å¦‚ä¸‹ï¼š</p><table><thead><tr><th width="200">å·®å¼‚ç‚¹</th><th>LibCSS </th><th>lcui/css</th></tr></thead><tbody><tr><td>è§£æåŠŸèƒ½è®¾è®¡</td><td>ç”±è¯æ³•è§£æå™¨ã€è¯­æ³•è§£æå™¨ã€å±æ€§è§£æå™¨å’Œè¯­è¨€è§£æå™¨ç»„æˆ</td><td>ç”±è¯­è¨€è§£æå™¨ã€CSS å±æ€§è¡¨ã€CSS å€¼å®šä¹‰è¡¨ç»„æˆ</td></tr><tr><td>å±æ€§å£°æ˜çš„è§£æè¿‡ç¨‹</td><td>è¯­æ³•è§£æå™¨è§¦å‘äº‹ä»¶é€šçŸ¥è¯­è¨€è§£æå™¨è°ƒç”¨å¯¹åº”çš„å±æ€§è§£æå™¨è¿›è¡Œè§£æ</td><td>è§£æå™¨ä»å±æ€§è¡¨ä¸­è·å–å±æ€§çš„å€¼å®šä¹‰ï¼Œç„¶åä»å­—ç¬¦ä¸²ä¸­æå–ä¸å€¼å®šä¹‰ç›¸åŒ¹é…çš„å€¼</td></tr><tr><td>æ·»åŠ è‡ªå®šä¹‰å±æ€§è§£æå™¨</td><td>éœ€è¦ä¿®æ”¹å’Œé‡æ–°ç¼–è¯‘ LibCSS çš„æºä»£ç </td><td>åœ¨è¿è¡Œæ—¶è°ƒç”¨ç›¸å…³å‡½æ•°æ·»åŠ è‡ªå®šä¹‰å±æ€§</td></tr><tr><td>æ ·å¼è¡¨</td><td>æ ·å¼æ•°æ®éƒ½å­˜åœ¨æ ·å¼è¡¨ä¸­ï¼Œæä¾›ç›¸å…³æ“ä½œå‡½æ•°</td><td>ä¸å­˜åœ¨æ ·å¼è¡¨çš„æ¦‚å¿µï¼ŒåŠ è½½çš„æ ·å¼æ•°æ®éƒ½å­˜å‚¨åœ¨å…¨å±€æ•°æ®è¡¨ä¸­</td></tr><tr><td>æ ·å¼æŸ¥è¯¢èŒƒå›´</td><td>ä¸€ä¸ªæˆ–å¤šä¸ªæ ·å¼è¡¨</td><td>å…¨å±€</td></tr><tr><td>æ ·å¼é€‰æ‹©å‡½æ•°çš„ç”¨æ³•</td><td>ä¼ å…¥ç»“ç‚¹ (node) åŠå…¶æ“ä½œæ–¹æ³•é›† (handler)</td><td>ä¼ å…¥é€‰æ‹©å™¨ (selector)ï¼Œè¯¥å‚æ•°æ˜¯ç»„ä»¶çˆ¶å­å…³ç³»é“¾çš„ç²¾ç®€ç‰ˆï¼Œæ¯ä¸ªç»“ç‚¹åŒ…å«ç»„ä»¶çš„ idã€typeã€class ç­‰å±æ€§</td></tr><tr><td>æ ·å¼é€‰æ‹©èƒ½åŠ›</td><td>è¾ƒä¸ºå…¨é¢</td><td>åªæ”¯æŒ idã€typeã€classã€:first-childã€:last-childï¼Œè¿™ç±»ç®€å•çš„é€‰æ‹©ç¬¦</td></tr><tr><td>æ ·å¼é€‰æ‹©ä¼˜åŒ–</td><td>ä¸ºèŠ‚ç‚¹æä¾› bloom è¿‡æ»¤å™¨ï¼Œæ ¹æ®èŠ‚ç‚¹çš„ç¥–å…ˆå…ƒç´ åã€ç±»åå’Œ id åç”Ÿæˆï¼Œå¯ç”¨äºè·å–å’Œç¼“å­˜å·²æŸ¥è¯¢çš„æ ·å¼</td><td>è™½ç„¶åº“å†…éƒ¨æ²¡æœ‰åšä¼˜åŒ–ï¼Œä½†åœ¨ lcui/ui åº“ä¸­æœ‰å®ç°ä¸ LibCSS çš„ bloom è¿‡æ»¤å™¨ç›¸ä¼¼çš„ä¼˜åŒ–</td></tr><tr><td>æ ·å¼è®¡ç®—</td><td>é‡‡ç”¨ä¸¤æ­¥å¼æ ·å¼è®¡ç®—æ–¹æ³•ï¼Œç¬¬ä¸€æ­¥è®¡ç®—ç»§æ‰¿å€¼ã€åˆå§‹å€¼å’Œå±‚å æ ·å¼ï¼Œç¬¬äºŒæ­¥è®¡ç®—ç»å¯¹å€¼ï¼Œè¿™ç§æ–¹æ³•æ—¨åœ¨å…è®¸å®¢æˆ·ç«¯å­˜å‚¨éƒ¨åˆ†å·²è®¡ç®—æ ·å¼ï¼Œå¹¶åœ¨å¸ƒå±€å˜åŠ¨æ—¶é«˜æ•ˆåœ°æ›´æ–°èŠ‚ç‚¹çš„å®Œæ•´å·²è®¡ç®—æ ·å¼</td><td>æ— </td></tr><tr><td>å±æ€§è®¿é—®æ–¹æ³•</td><td>è°ƒç”¨å±æ€§è®¿é—®å‡½æ•°è·å–å±æ€§å€¼</td><td>ç›´æ¥è®¿é—®ç»“æ„ä½“æˆå‘˜ï¼Œæ— ç›¸å…³è¾…åŠ©å‡½æ•°</td></tr><tr><td>å±æ€§å€¼å­˜å‚¨æ–¹å¼</td><td>ç”¨è‹¥å¹²ä¸ªæ¯”ç‰¹ä½è®°å½•å€¼çš„ç±»å‹å’Œå•ä½ï¼Œè‹¥æœ‰å…¶å®ƒå€¼åˆ™ä¼šåœ¨å¦ä¸€å—ç©ºé—´ä¸­å­˜å‚¨å€¼ï¼Œè¿™æ ·èƒ½åšåˆ°è®©éƒ¨åˆ†å±æ€§çš„å€¼åªå ç”¨è‹¥å¹²ä¸ªæ¯”ç‰¹ä½ï¼Œå†…å­˜åˆ©ç”¨ç‡è¾ƒé«˜</td><td>å±æ€§çš„ç±»å‹ã€å€¼å’Œå•ä½éƒ½æ˜¯ç‹¬ç«‹çš„ç»“æ„ä½“æˆå‘˜ï¼Œæ¯ä¸ªå±æ€§çš„å€¼è‡³å°‘å ç”¨ 24 å­—èŠ‚ï¼Œå†…å­˜åˆ©ç”¨ç‡ä½</td></tr></tbody></table><p>LibCSS åœ¨è§£æå™¨çš„è®¾è®¡ä¸Šæ˜æ˜¾ä¼˜äº lcui/cssï¼Œé€ æˆè¿™ä¸€å·®è·çš„åŸå› åœ¨äºç¬”è€…å¹¶æœªå­¦ä¹ è¿‡ç¼–è¯‘åŸç†å¹¶æŒæ¡ç›¸å…³è®¾è®¡æ¨¡å¼ï¼Œæ­£å› ä¸ºå¦‚æ­¤ï¼Œlcui/css æ‰€é‡‡ç”¨çš„è®¾è®¡æ¨¡å¼åœ¨ç»å†è¿‡æ•°æ¬¡æ”¹è¿›å’Œé‡å†™æ‰åªè¾¾åˆ°ç°åœ¨è¿™ç§ç¨‹åº¦ï¼Œè™½ç„¶çœ‹ä¸Šå»å˜å¾—æ›´æˆç†Ÿç¨³å®šäº†ï¼Œä½†ä¸ LibCSS çš„è®¾è®¡æ¨¡å¼ç›¸æ¯”åªæ˜¯ä¸ªä½é…ç‰ˆã€‚</p><p>ç°åœ¨çœ‹æ¥ï¼Œä¸å…¶æµªè´¹å¤§é‡æ—¶é—´åŸºäºæœ€åˆçš„è‡ªè®¤ä¸ºå¾ˆç®€å•çš„å®ç°æ–¹æ¡ˆæŒç»­æ”¹è¿›ï¼Œè¿˜ä¸å¦‚èŠ±å°‘é‡æ—¶é—´å­¦ä¹ å¹¶åº”ç”¨ç°æœ‰ä¸”æˆç†Ÿçš„è®¾è®¡æ¨¡å¼ã€‚ä¸è¿‡è¿™ä¹Ÿä½“ç°äº†ç†è®ºçŸ¥è¯†å‚¨å¤‡çš„é‡è¦æ€§ï¼Œå®ƒèƒ½è®©ä½ å¿«é€Ÿæ‰¾åˆ°åˆé€‚çš„è§£å†³æ–¹æ¡ˆï¼Œä¸ç”¨ä¸ºäº†é‡å¤è§£å†³åˆ«äººæ—©å·²è§£å†³è¿‡çš„é—®é¢˜è€Œæµªè´¹è¿‡å¤šæ—¶é—´å»ç ”ç©¶ã€å®è·µå’Œæ”¹è¿›ã€‚</p><p>å½“ç„¶ï¼Œä¸åªæ˜¯ CSS è§£æå™¨è¿™å—åŠŸèƒ½å­˜åœ¨é—®é¢˜ï¼Œç”±äºç¬”è€…åœ¨å¼€å‘ CSS åº“ä¹‹å‰å¹¶æœªç³»ç»Ÿåœ°å­¦ä¹ è¿‡ CSS ç›¸å…³æœ¯è¯­å’Œæ¦‚å¿µï¼ŒCSS åº“çš„å†…éƒ¨æ¥å£è®¾è®¡å’Œå‘½åéƒ½å­˜åœ¨ä¸€äº›é—®é¢˜ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ç“¶é¢ˆé—®é¢˜çš„è§£å†³æ–¹æ³•">ç“¶é¢ˆé—®é¢˜çš„è§£å†³æ–¹æ³•<a href="#ç“¶é¢ˆé—®é¢˜çš„è§£å†³æ–¹æ³•" class="hash-link" aria-label="Direct link to ç“¶é¢ˆé—®é¢˜çš„è§£å†³æ–¹æ³•" title="Direct link to ç“¶é¢ˆé—®é¢˜çš„è§£å†³æ–¹æ³•">â€‹</a></h3><p>å¦‚ä½•æå–å€¼ï¼Ÿç¬”è€…åœ¨ç ”ç©¶ LibCSS ä¹‹å‰æƒ³åˆ°çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šå…ˆå®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å€¼ç±»å‹ä¸ç›®æ ‡å€¼çš„æŒ‡é’ˆï¼Œç„¶åéå†è¿™ä¸ªæ•°ç»„æ‰¾å‡ºç±»å‹åŒ¹é…çš„å€¼å¹¶å°†ä¹‹å†™å…¥åˆ°ç›®æ ‡å€¼çš„æŒ‡é’ˆæŒ‡å‘çš„ç©ºé—´å†…ã€‚ä¼ªä»£ç å¦‚ä¸‹ï¼š</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">CSSValueResolveRule</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        type</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> CSSValueType</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        key</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">resolveCSSValue</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">input</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> CSSValue</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rules</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> CSSValueResolveRule</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> output</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Record</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> CSSValue</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> resolvedValues </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name builtin">Array</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">input</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">fill</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ruless</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rule</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                input</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">some</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">resolvedValues</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">matchCSSValueType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">value</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rule</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                output</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">rule</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                resolvedValues</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">i</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> resolvedValues</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">every</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Boolean</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>ç„¶è€Œä¸€ä¸ªå±æ€§å¯ä»¥æœ‰å¤šä¸ªå€¼ä¸”å€¼å¯ä»¥æœ‰å¤šç§ç±»å‹ï¼Œè¿™ç§æ–¹æ¡ˆå¹¶ä¸é€‚ç”¨ã€‚</p><p>å¦‚æœè€ƒè™‘å¤šå€¼å¤šç±»å‹çš„æƒ…å†µï¼Œé‚£å°±è¿˜è¦è§£å†³åŒ¹é…åº¦çš„é—®é¢˜ï¼Œä¾‹å¦‚ç®€å†™å±æ€§ margin çš„å››ç§å†™æ³•ï¼š<code>margin: 4px</code>ã€<code>margin: 4px 8px</code>ã€<code>margin: 4px 8px 4px</code>ã€<code>margin: 4px 8px 4px 8px</code>ï¼ŒåŒæ ·æ˜¯ length ç±»å‹çš„å€¼ï¼Œä¸åŒæ•°é‡æœ‰ä¸åŒçš„æ•ˆæœã€‚è¿™äº›å€¼çš„æ•°é‡æ ¡éªŒåœ¨å€¼åŒ¹é…å™¨ä¸­å·²ç»åšè¿‡äº†ï¼Œé‚£ä¹ˆï¼Œæ˜¯å¦å¯ä»¥æ”¹è¿›å€¼åŒ¹é…å™¨ä½¿ä¹‹æ”¯æŒè‡ªå®šä¹‰å€¼çš„æå–æ–¹å¼ï¼Ÿå¦‚æœä¸æ”¹è¿›ï¼Œé‚£åœ¨å€¼æå–å™¨å’Œå±æ€§å±‚å å‡½æ•°é‡Œåšé‡å¤çš„å€¼æ ¡éªŒæœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿä¸€æƒ³åˆ°è¿™é‡Œï¼Œç¬”è€…å‘ç°è¦è§£å†³çš„é—®é¢˜è¶Šæ¥è¶Šå¤æ‚ï¼Œè€Œè§£å†³è¿™äº›é—®é¢˜æ‰€å¸¦æ¥çš„æ”¶ç›Šä¸æŠ•å…¥çš„æˆæœ¬å¹¶ä¸åŒ¹é…ï¼Œäºæ˜¯å†³å®šæ”¾å¼ƒæ€è€ƒï¼Œæ”¹ä¸ºç ”ç©¶ LibCSS çš„åšæ³•ã€‚</p><p>ç»è¿‡ä¸Šè¿°å¯¹ LibCSS çš„ç ”ç©¶ï¼Œé‰´äºå€¼æå–æ–¹å¼çš„ä¼˜åŒ–æˆæœ¬è¿‡é«˜ï¼Œç¬”è€…å†³å®šæ”¹ç”¨å¸¸è§„çš„æ–¹å¼æ¥æå–å€¼ï¼Œå³ä¾¿å„ä¸ªç®€å†™å±æ€§çš„å€¼æå–å®ç°ä»£ç æ˜¯ç›¸ä¼¼çš„ã€‚</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="æ”¹è¿›è®¡åˆ’">æ”¹è¿›è®¡åˆ’<a href="#æ”¹è¿›è®¡åˆ’" class="hash-link" aria-label="Direct link to æ”¹è¿›è®¡åˆ’" title="Direct link to æ”¹è¿›è®¡åˆ’">â€‹</a></h3><p>LibCSS åœ¨è§£æå™¨ã€é€‰æ‹©å¼•æ“å’Œæ•°æ®ç»“æ„ç­‰æ–¹é¢çš„è®¾è®¡ä¸º lcui/css æœªæ¥çš„æ”¹è¿›æä¾›äº†å¯é çš„å‚è€ƒï¼Œç›®å‰å¯åšçš„æ”¹è¿›æœ‰ï¼š</p><ul><li>æ”¹ç”¨å­—èŠ‚ç ç»„ä»£æ›¿é“¾è¡¨æ¥å­˜å‚¨ CSS è§„åˆ™</li><li>å¼•å…¥æ ·å¼è¡¨ã€é€‰æ‹©ä¸Šä¸‹æ–‡ã€å·²è®¡ç®—æ ·å¼ç­‰æ¦‚å¿µ</li><li>å°†æ ·å¼è®¡ç®—å‡½æ•°æ”¹æˆä¸ <code>css_select_style()</code> ç›¸ä¼¼çš„ç”¨æ³•</li><li>å°† lcui/ui åº“ä¸­çš„æ ·å¼é€‰æ‹©ä¼˜åŒ–æ•´åˆè¿› lcui/css åº“ä¸­</li><li>å°† lcui/ui åº“ä¸­çš„æ ·å¼è®¡ç®—é€»è¾‘æ•´åˆè¿› lcui/css åº“ä¸­</li><li>ä¼˜åŒ–å·²è®¡ç®—å€¼çš„å­˜å‚¨æ–¹å¼ï¼Œå‡å°‘å†…å­˜å ç”¨</li><li>å¢åŠ ç»å¯¹å€¼è®¡ç®—æµç¨‹</li><li>å¢åŠ å±æ€§è®¿é—®å™¨</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="libcss-ç¼ºå¤±çš„å±æ€§">LibCSS ç¼ºå¤±çš„å±æ€§<a href="#libcss-ç¼ºå¤±çš„å±æ€§" class="hash-link" aria-label="Direct link to LibCSS ç¼ºå¤±çš„å±æ€§" title="Direct link to LibCSS ç¼ºå¤±çš„å±æ€§">â€‹</a></h3><p>åœ¨ç¬”è€…ç ”ç©¶å±æ€§è§£æå™¨çš„è¿‡ç¨‹ä¸­æœ‰æ³¨æ„åˆ°ä¸€äº›å±æ€§æ²¡æœ‰è§£æå™¨ï¼Œç”šè‡³è¿åŒ…å«ç›¸å…³å…³é”®å­—çš„ä»£ç éƒ½æ²¡æœ‰ï¼Œä¾‹å¦‚ï¼š</p><ul><li>background-size</li><li>border-radius</li><li>box-shadow</li></ul><p>æˆ–è®¸æ˜¯å› ä¸º NetSurf æµè§ˆå™¨è¿˜ä¸æ”¯æŒç»˜åˆ¶è‡ªå®šä¹‰å°ºå¯¸çš„èƒŒæ™¯å›¾ã€åœ†è§’è¾¹æ¡†å’Œé˜´å½±å§ã€‚</p></div><footer class="row docusaurus-mt-lg"></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/docs/next/tutorials/todolist">Tutorials</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/en/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/lcui-dev/website" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://gitee.com/lcui-dev/website" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 LC's Software. Built with Docusaurus.</div></div></div></footer></div>
<script src="/en/assets/js/runtime~main.8e5e9aff.js"></script>
<script src="/en/assets/js/main.f7301482.js"></script>
</body>
</html>